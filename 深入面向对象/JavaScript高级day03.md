## 编程思想

### 面向过程

分析出解决问题所需要的步骤，然后用函数把这些步骤一步一步实现，使用的时候再一个一个依次调用

>优点：性能比面向对象高，适合跟硬件联系很紧密的对象，比如单片机就采用的面向过程编程
>
>缺点：没有面向对象易维护、易复发、易扩展

### 面向对象

把事物分解成一个个对象，然后由对象之间分工与合作

>特性：封装性、继承性、多态性

>优点：易维护。易复发、易扩展，由于面向对象有封装、继承、多态性的特效，可以设计出低耦合的系统，使系统更加灵活、更加易于维护
>
>缺点：性能比面向过程低

## 构造函数

封装是面向对象思想中比较重要的一部分，js面向对象可以通过构造函数实现的封装。

同样的将变量和函数组合到了一起并能通过 this 实现数据的共享，所不同的是借助构造函数创建出来的实例对象之间是彼此不影响的

>总结：
>
>1.构造函数体现了面向对象的封装特性
>
>2.构造函数实例创建的对象彼此独立、互不影响

## 原型

构造函数通过原型分配的函数是所有对象所 共享的。
JavaScript 规定，每一个构造函数都有一个 prototype 属性，指向另一个对象，所以我们也称为原型对象
这个对象可以挂载函数，对象实例化不会多次创建原型上函数，节约内存
我们可以把那些不变的方法，直接定义在 prototype 对象上，这样所有对象的实例就可以共享这些方法。

`构造函数和原型对象中的this都指向实例化对象`

### constructor属性

该属性指向该原型对象的构造函数

>使用场景：
>
>如果有多个对象的方法，我们可以给原型对象采取对象形式赋值
>
>但是这样就会覆盖构造函数原型对象原来的内容，这样修改后的原型对象 constructor 就不再指向当前构造函数了
>
>此时，我们可以在修改后的原型对象中，添加一个 constructor 指向原来的构造函数

### 对象原型

对象都会有一个属性`__proto__`指向构造函数的prototype原型对象，之所以我们对象可以使用构造函数prototype原型对象的属性和方法，就是因为对象有`__proto__`原型的存在

>注意：
>
>`__proto__` 是JS非标准属性
>
>[[prototype]]和`__proto__`意义相同
>
>用来表明当前实例对象指向哪个原型对象prototype
>
>`__proto__`对象原型里面也有一个 constructor属性，指向创建该实例对象的构造函数

![](https://gcore.jsdelivr.net/gh/DouYingc/blogimage/img/202207191002805.jpg)

### 原型继承

继承是面向对象编程的另一个特征，通过继承进一步提升代码封装的程度，JavaScript 中大多是借助原型对象实现继承的特性

```javascript
        const Person = {
            eays: 2,
            head: 1
        }
        function Woman () {
            // this.eays = 2
            // this.head = 1
        }
        // Woman 通过原型来继承Person
        Woman.prototype = Person
        // 指回原来的构造函数
        Woman.prototype.constructor = Woman
        const red = new Woman()
        console.log(red)
        function Man() {
            // this.eays = 2
            // this.head = 1
        }
        Man.prototype = Person
        Man.prototype.constructor = Man
        const pink = new Man()
        console.log(pink)
```

#### 问题

如果我们给男人添加了一个吸烟的方法，发现女人也自动添加了这个方法

原因：男人和女人都同时使用了同一个对象，根据引用类型的特点，他们指向同一个对象，修改一个就会都影响

解决：构造函数	new 每次都会创建一个新的对象

```javascript
        Woman.prototype = new Person()
        Man.prototype = new Person()
```

### 原型链

基于原型对象的继承使得不同构造函数的原型对象关联在一起，并且这种关联的关系是一种链状的结构，我们将原型对象的链状结构关系称为原型链

![](https://gcore.jsdelivr.net/gh/DouYingc/blogimage/img/202207191315750.png)

>查找规则：
>
>1.当访问一个对象的属性（包括方法）时，首先查找这个对象自身有没有该属性。
>
>2.如果没有就查找它的原型（也就是 `__proto__`指向的 prototype 原型对象
>
>3.如果还没有就查找原型对象的原型（Object的原型对象）
>
>4.依此类推一直找到 Object 为止（null）
>
>5.`__proto__`对象原型的意义就在于为对象成员查找机制提供一个方向，或者说一条路线